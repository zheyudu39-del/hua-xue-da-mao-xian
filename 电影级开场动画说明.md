# 电影级开场动画设计文档

## 动画概述
时长：15秒
风格：电影级叙事，紧张刺激

## 分镜脚本

### 第一幕：宁静的雪山（0-3秒）
**镜头**：高空俯瞰，缓慢下降
**画面**：
- 蔚蓝的天空，阳光洒在雪山上
- 远处巍峨的雪山群峰
- 近处茂密的松树林，树影斑驳
- 主角坐在山坡上，欣赏美景

**技术实现**：
```javascript
// 天空渐变：浅蓝到深蓝
skyGradient: ['#87CEEB', '#4A90E2', '#2E5F8F']

// 阳光效果：径向渐变
sunlight: radialGradient(center, 'rgba(255,255,200,0.3)')

// 镜头运动：ease-out下降
cameraY: 0 -> 100 (3秒)
cameraZoom: 0.8 -> 1.0
```

### 第二幕：山体震动（3-5秒）
**镜头**：开始震动，主角警觉
**画面**：
- 画面开始轻微抖动
- 远处山顶出现裂缝
- 主角抬头，表情从悠闲变为警惕
- 树木开始摇晃

**技术实现**：
```javascript
// 镜头震动
cameraShake: 0 -> 5px (随机方向)
shakeFrequency: 10Hz

// 音效提示
soundCue: 'rumble' // 低沉的轰鸣声

// 主角状态
skierState: 'sitting' -> 'alert'
```

### 第三幕：雪崩爆发（5-7秒）
**镜头**：快速推进到山顶
**画面**：
- 巨大的雪块开始崩塌
- 形成数百米高的雪墙
- 如白色海啸般呼啸而来
- 树木被连根拔起
- 岩石被裹挟其中
- 整个天地被白色雪雾笼罩

**技术实现**：
```javascript
// 雪崩生成
avalancheHeight: 0 -> 800px
avalancheWidth: 500px
avalancheSpeed: 0 -> 15px/frame

// 粒子系统
particles: 500+ (雪块、树木、岩石)
particleSize: 5-50px
particleSpeed: 随机向前

// 雪雾效果
fog: 'rgba(255,255,255,0.7)'
fogDensity: 增加

// 镜头震动加剧
cameraShake: 5 -> 20px
```

### 第四幕：惊恐逃跑（7-12秒）
**镜头**：切换到主角视角
**画面**：
- 主角惊恐地瞪大双眼（特写）
- 迅速站起，开始奔跑
- 镜头切换到第一人称视角
- 前方道路快速后退
- 呼吸声和心跳声急促
- 雪花飞溅，视线模糊
- 滑雪板划出深深痕迹
- 雪崩如影随形

**技术实现**：
```javascript
// 主角动画
skierState: 'alert' -> 'standing' -> 'running'
skierSpeed: 0 -> 20px/frame
skierAnimation: 跑步循环

// 第一人称效果
perspectiveMode: true
fov: 增大
motionBlur: 启用

// 环境快速移动
groundSpeed: 20px/frame
treeSpeed: 20px/frame

// 视觉效果
snowSplash: 粒子飞溅
vignette: 边缘暗化
breathEffect: 画面轻微起伏

// 雪崩追赶
avalancheDistance: 逐渐接近
avalancheSound: 'roar' // 咆哮声
```

### 第五幕：标题出现（12-15秒）
**镜头**：画面定格，标题浮现
**画面**：
- 紧张追逐画面突然定格
- 画面转为黑白或慢动作
- 游戏标题"滑雪大冒险"缓缓浮现
- 副标题"一场惊心动魄的冒险即将开始"
- 淡出到开始界面

**技术实现**：
```javascript
// 画面效果
freeze: true
colorMode: 'grayscale' or 'slowmotion'
blur: 轻微模糊

// 标题动画
titleOpacity: 0 -> 1
titleScale: 0.8 -> 1.0
titleGlow: 发光效果

// 过渡效果
fadeOut: 1秒淡出
transitionTo: 'start-screen'
```

## 技术要点

### 1. 性能优化
- 使用离屏Canvas缓存背景
- 粒子系统使用对象池
- 限制粒子数量（移动端300，PC端500+）
- 使用requestAnimationFrame

### 2. 视觉效果
- 景深效果（远近物体不同速度）
- 运动模糊（快速移动时）
- 镜头震动（地震效果）
- 粒子系统（雪花、碎片）
- 光照效果（阳光、阴影）

### 3. 音效设计（可选）
- 背景音乐：宁静 -> 紧张
- 环境音：风声、鸟鸣
- 雪崩音效：轰鸣、咆哮
- 角色音效：呼吸、心跳、脚步

### 4. 交互设计
- 可跳过动画（按任意键）
- 进度条显示
- 音量控制

## 代码结构

```javascript
class CinematicIntro {
    constructor() {
        this.phases = [
            { name: 'calm', duration: 3000, update: this.updateCalm },
            { name: 'rumble', duration: 2000, update: this.updateRumble },
            { name: 'avalanche', duration: 2000, update: this.updateAvalanche },
            { name: 'chase', duration: 5000, update: this.updateChase },
            { name: 'title', duration: 3000, update: this.updateTitle }
        ];
        this.currentPhase = 0;
        this.phaseTime = 0;
    }
    
    update(deltaTime) {
        const phase = this.phases[this.currentPhase];
        this.phaseTime += deltaTime;
        
        if (this.phaseTime >= phase.duration) {
            this.currentPhase++;
            this.phaseTime = 0;
        }
        
        phase.update.call(this, this.phaseTime / phase.duration);
    }
    
    updateCalm(progress) {
        // 宁静场景更新
        this.cameraY = easeOut(progress) * 100;
        this.cameraZoom = 0.8 + easeOut(progress) * 0.2;
    }
    
    updateRumble(progress) {
        // 震动场景更新
        this.cameraShake = progress * 5;
        this.skierState = progress > 0.5 ? 'alert' : 'sitting';
    }
    
    // ... 其他阶段更新函数
}
```

## 实现优先级

### 第一阶段（核心功能）
1. ✅ 基础场景绘制（天空、山脉、树木）
2. ✅ 主角绘制和基础动画
3. ✅ 雪崩效果和粒子系统
4. ✅ 镜头运动和震动

### 第二阶段（增强效果）
5. 第一人称视角切换
6. 运动模糊和视觉效果
7. 音效集成
8. 过场动画优化

### 第三阶段（润色）
9. 细节优化（光照、阴影）
10. 性能优化
11. 跨平台适配
12. 可跳过功能

## 预期效果

观众应该感受到：
- **0-3秒**：平静、美丽、放松
- **3-5秒**：不安、警觉、紧张
- **5-7秒**：震撼、恐惧、绝望
- **7-12秒**：刺激、紧迫、心跳加速
- **12-15秒**：期待、兴奋、准备开始

这个开场动画将为游戏定下紧张刺激的基调，让玩家立即沉浸在逃离雪崩的冒险中！
